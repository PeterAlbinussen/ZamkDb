@page
@using Microsoft.AspNet.Identity
@model ZamkDb.Pages.Bookings.GetAllBookingsModel
@{
}




<h3 style="color:cornflowerblue">My bookings</h3>
<table class="table">
	<thead>
	<tr>
		<th>Booking Id</th>
		<th>Course Id</th>
		<th>Your Id</th>
		<th>Your name</th>
		<th>Driver Name</th>
        <th>Zealand Location </th>
        <th>End Location </th>
        <th>Date</th>
	</tr>
	</thead>
	<tbody>

		@if (Model.Bookings != null)
		{
			@foreach (var item in Model.Bookings)
			{
				@if (User.Identity.GetUserId() == item.ParticipantId)
				{
		<tr>
			<td> @item.BookingId</td>
			<td> @item.CourseId</td>
			<td> @item.ParticipantId</td>
			<td> @item.Participant.Name</td>
            <td> @item.Course.User.Name</td>
            <td> @item.Course.ZealandLocation</td>
            <td> @item.Course.EndLocation</td>
			<td> @item.Course.StartDateTime</td>
			<td>
				@if (User.Identity.GetUserId() == item.ParticipantId)
				{
				    <a asp-page="Delete" asp-route-id="@item.BookingId" class="btn btn-danger m-1">Cancel your booking</a>
				}
			</td>
		</tr>
				}
			}
		}
	</tbody>
</table>
